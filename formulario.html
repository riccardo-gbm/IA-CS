<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Costo de Vida</title>
    <script>
        function loadForm() {
            // Obtener ciudad desde la URL
            const params = new URLSearchParams(window.location.search);
            const ciudad = params.get("ciudad");

            if (!ciudad) {
                document.body.innerHTML = "<h1>Error: No seleccionaste una ciudad.</h1>";
                return;
            }

            document.getElementById("city-title").textContent = `Formulario para ${ciudad.charAt(0).toUpperCase() + ciudad.slice(1)}`;

            // Puedes personalizar los valores predeterminados por ciudad aquí
            const defaultValues = {
                sydney: { rent: 1500, utilities: 200, transport: 150 },
                melbourne: { rent: 1300, utilities: 180, transport: 120 },
                monterrey: { rent: 800, utilities: 100, transport: 70 },
                cdmx: { rent: 700, utilities: 90, transport: 50 },
                ottawa: { rent: 1400, utilities: 190, transport: 130 },
                toronto: { rent: 1600, utilities: 220, transport: 160 },
            };

            if (ciudad in defaultValues) {
                document.getElementById("rent").value = defaultValues[ciudad].rent;
                document.getElementById("utilities").value = defaultValues[ciudad].utilities;
                document.getElementById("transport").value = defaultValues[ciudad].transport;
            }
        }

        function calculateCost() {
            let rent = parseFloat(document.getElementById("rent").value) || 0;
            let utilities = parseFloat(document.getElementById("utilities").value) || 0;
            let transport = parseFloat(document.getElementById("transport").value) || 0;
            let food = parseFloat(document.getElementById("food").value) || 0;
            let entertainment = parseFloat(document.getElementById("entertainment").value) || 0;
            let health = parseFloat(document.getElementById("health").value) || 0;
            let personal = parseFloat(document.getElementById("personal").value) || 0;
            let taxes = parseFloat(document.getElementById("taxes").value) || 0;

            let totalCost = rent + utilities + transport + food + entertainment + health + personal + taxes;

            document.getElementById("total-cost").textContent = totalCost.toFixed(2);
        }
    </script>
</head>
<body onload="loadForm()">
    <h1 id="city-title">Formulario</h1>
    <form id="cost-form">
        <label for="rent">Renta mensual ($):</label>
        <input type="number" id="rent" required>

        <label for="utilities">Servicios básicos ($):</label>
        <input type="number" id="utilities" required>

        <label for="transport">Transporte ($):</label>
        <input type="number" id="transport" required>

        <label for="food">Alimentación ($):</label>
        <input type="number" id="food" required>

        <label for="entertainment">Entretenimiento ($):</label>
        <input type="number" id="entertainment" required>

        <label for="health">Salud ($):</label>
        <input type="number" id="health" required>

        <label for="personal">Gastos personales ($):</label>
        <input type="number" id="personal" required>

        <label for="taxes">Impuestos ($):</label>
        <input type="number" id="taxes" required>

        <button type="button" onclick="calculateCost()">Calcular</button>
    </form>

    <h2>Costo total de vida: $<span id="total-cost">0</span></h2>
</body>
</html>
